JJUG CCC 2025 Spring 参加レポート

■ Java's OOM and Kubernetes' OOM - 遭遇した2つのOOMと対策 ~ Launchableでの事例 ~ ☆
Room J 10:00 - 10:20
https://speakerdeck.com/konboi/jjug-2025-spring
k8sの説明も色々してくれている、特にRequests/Limitsについても勉強になった。
最終的にk8sのLimitsの制限でOOMされていた
OOMだからJavaのアプリケーションかと思っていたが実はk8sのOOMだった。
最終的にはJava側で8GBもメモリ使っている
HeapとOffHeapがある、OffHeapは大規模な処理に使われる
Heap5G + Offheap5G > limits 6Gだった
JavaのHeapもk8sのlimitsも両方ちゃんと気を配らないとOOMされるよ



■ Spring Boot と AWS S3 を使ったアプリケーションのテスト ☆
Room L 10:25 - 10:45
https://speakerdeck.com/contour_gara/spring-boot-to-aws-s3-woshi-tutaapurikesiyonnotesuto
うちらも動画でS3を使っているので、そこでテスト使えるかも
AWS SDKはほぼ毎日変更があるのでテスト重要
テストは振る舞いをテストしよう
入力、出力、保存、計算
Infra部分は外部とつながりやすいのでテストが非常にしづらい
テストダブルでフェイクを利用する
LocalStackをつかってAWSのサービスをdockerで同じふるまいができる環境を用意できる
ただ、UTでLocalStackを使うとdockerなのでコスパが悪いがそこは理解しつつ使う
localstackcontainarでオブジェクトを作れる
エンドポイントがあるかないかでS3本体かlocalstackかの分けを実装する必要はある
詳しいコードはgithubにのせているとのこと



■ ビズリーチにおけるリアーキテクティングの実践事例 ～ 大規模システムを継続的に変革するための組織 × アーキテクチャ戦略～ ☆
Room C+D 11:00 - 11:45
https://speakerdeck.com/visional_engineering_and_design/jjug-ccc-2025-spring
急成長は良かったが、その分技術的負債が２０１８年ごろからかなり目立つようになってきた
密結合でテストもかなり書きづらい状況
現在進行系でプロダクトを改善中
リアーキテクチャの目的はアジリティを獲得すること、市場の変化について行き競争力を獲得することが重要
アジリティを獲得するために、マインドセット→プロセス→技術→組織で作っていく必要がある
バックエンドはJavaでできている巨大なモノリスだった
影響確認やコミュニケーションに特に時間がかかる
Bounded Contextでモジュール分割で対応していく対応を行った
最終的にはマイクロサービスに寄せていく
APIを切り出したあと、最終的に組織、DBも分ける
適切な境界面はどこか？
上手く境界面を設定できている状態とは、非同期で結合されている状態だと思う
データモデリングでドメインを駆動する（本）がかなり良い、ドメイン駆動を理解するには読んでも良いかも
ではどうやって、ビジネスを止めずにリアーキテクティングするか
段階的な書き直し、小さく小さく置き換えていくのが良い
使われていない機能は強い意志でまず削除することも非常に重要
サービスにおいての大通りを大事にしろ（メルカリの人の言葉）
デザイン負債も結構抱えていた、せっかくアーキテクチャも変えるのでデザイン負債も変えたかった
グロナビとかも上から左横にしたりなど結構力技部分もあった
変更容易性とテスト容易性を高める設計パターンの採用
テストの目安は70%-90%ぐらいでいい
テストピラミッドを意識することは重要
UT > インテグレーション > E2E でテスト量を用意する



■ 【ランチ付き】キャッシュレス決済のプロダクトから決済基盤への進化 ☆
Room F 12:00 - 12:45
お弁当無しなのでスキップして参加しなかった。



■ DBCP(データベースコネクションプーリング)の変遷と理解 ☆
Room J 13:15 - 13:35
https://speakerdeck.com/fujikawa8/detabesukonekusiyonpuru-dbcp-nobian-qian-toli-jie
HikariCPの話も多く、参考になった。
そもそもHikariCPってDBCPのことだったのかと初めて知った。



■ こわくない！Java の関数型インターフェースの基礎と活用法 ☆
Room J 14:15 - 14:35
https://www.docswell.com/s/tmiya-tech/K1R6RE-2025-06-05-200641
主にstream系の話で面白かった、自分は既に使っていた



■ １つのメソッドに、関心事が複数あると何が辛いのか？
Room F 14:40 - 15:00
https://speakerdeck.com/yatakeke/1tunomesotudoni-guan-xin-shi-gafu-shu-arutohe-gaxin-inoka
モジュール設計とテスト設計は切り離せない
モジュール設計の質はテスト設計にも大きく影響する



■ 「イベントストーミングから始めるドメイン駆動設計 ～ 概念モデリングと生成AIで加速するシステム開発」 ☆
Room F 15:30 - 16:15
https://speakerdeck.com/jgeem/ibentosutomingukarashi-merudomeinqu-dong-she-ji
資料はポストしたので見てほしいとのこと
モデリングの意義、特に複数のモデルを作成する意義を持って帰ってほしい
DDDの基本的な考え方とメリットとは
    複雑なものから不要なものを捨て、つまりモデリング
概念モデリングによる事業活動の可視化をする
    スポナビとかの未来にも利用できるかも
どうやって概念モデリングを作成するかを説明してくれている
自分のやっている事業にも流用できる考え方かも



■ Stream Gatherers のツボを押さえよう！ ☆
Room J 16:30 - 16:50
https://www.docswell.com/s/kemomimi/ZQRDMJ-2025-06-06-192909
どんな中間操作でも独自に作成できたらいいよね。
Java24で正式に導入、ギャザラー
Streamにgatherメソッド追加される
標準で用意されたギャザラーのものと、自分で用意したメソッドをギャザラーにして登録できる
そもそもStreamの中間操作とは？
    インクリメントな処理map
    フィニッシャー処理sorted/distinct
    短絡limit/takeWhile
    要素数の変更filter/flatMap/mapMulti
無限のストリームにも対応できるのがギャザラー
ピタゴラス数とかもギャザラーであれば作れる
インクリメンタル、フィニッシャー、短絡、要素数の変換、ステートフル処理が独自に作れるようになる
